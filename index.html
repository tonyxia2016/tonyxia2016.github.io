<head>
    <meta charset="UTF-8">
    <style>
        body {
            background-color: black;
            margin: 0;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            flex-direction: column;
        }

        .video-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
            width: 100vw;
            height: 100vh;
            gap: 5px;
        }

        .video-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        video {
            width: 100%;
            height: 100%;
            background-color: black;
        }

        p {
            margin: 0;
            font-size: 12px;
            text-align: center;
        }
    </style>
    <title>9分屏视频播放</title>
</head>

<body>
    <div> 
        <p>默认URL: https://tonyxia2016.github.io/bbb_video_avc_frag.mp4</p>
    </div>

    <div class="video-container">
        <div class="video-item">
            <p>窗口 1</p>
            <video id="video1" onloadstart="this.playbackRate = 1.25;" autoplay muted>
                <source src="https://tonyxia2016.github.io/bbb_video_avc_frag.mp4" type="video/mp4">
            </video>
        </div>
        <div class="video-item">
            <p>窗口 2</p>
            <video id="video2" onloadstart="this.playbackRate = 1.25;" autoplay muted>
                <source src="https://tonyxia2016.github.io/bbb_video_avc_frag_1168_656.mp4" type="video/mp4">
            </video>
        </div>
        <div class="video-item">
            <p>窗口 3</p>
            <video id="video3" onloadstart="this.playbackRate = 1.25;" autoplay muted>
                <source src="https://tonyxia2016.github.io/bbb_video_avc_frag.mp4" type="video/mp4">
            </video>
        </div>
        <div class="video-item">
            <p>窗口 4</p>
            <video id="video4" onloadstart="this.playbackRate = 1.25;" autoplay muted>
                <source src="https://tonyxia2016.github.io/bbb_video_avc_frag.mp4" type="video/mp4">
            </video>
        </div>
        <div class="video-item">
            <p>窗口 5</p>
            <video id="video5" onloadstart="this.playbackRate = 1.25;" autoplay muted>
                <source src="https://tonyxia2016.github.io/bbb_video_avc_frag.mp4" type="video/mp4">
            </video>
        </div>
        <div class="video-item">
            <p>窗口 6</p>
            <video id="video6" onloadstart="this.playbackRate = 1.25;" autoplay muted>
                <source src="https://tonyxia2016.github.io/bbb_video_avc_frag.mp4" type="video/mp4">
            </video>
        </div>
        <div class="video-item">
            <p>窗口 7</p>
            <video id="video7" onloadstart="this.playbackRate = 1.25;" autoplay muted>
                <source src="https://tonyxia2016.github.io/bbb_video_avc_frag.mp4" type="video/mp4">
            </video>
        </div>
        <div class="video-item">
            <p>窗口 8</p>
            <video id="video8" onloadstart="this.playbackRate = 1.25;" autoplay muted>
                <source src="https://tonyxia2016.github.io/bbb_video_avc_frag.mp4" type="video/mp4">
            </video>
        </div>
        <div class="video-item">
            <p>窗口 9</p>
            <video id="video9" onloadstart="this.playbackRate = 1.25;" autoplay muted>
                <source src="https://tonyxia2016.github.io/bbb_video_avc_frag.mp4" type="video/mp4">
            </video>
        </div>
    </div>

    <script>
        document.querySelectorAll("video").forEach(video => {
            video.onerror = function() {
                video.src = "https://tonyxia2016.github.io/bbb_video_avc_frag.mp4";
                video.load();
            }
        });

        document.addEventListener("visibilitychange", function() {
            document.querySelectorAll("video").forEach(video => {
                if (document.visibilityState === 'visible' || (document.pictureInPictureElement !== undefined && document.pictureInPictureElement)) {
                    video.play();
                } else if (document.pictureInPictureElement === undefined || !document.pictureInPictureElement) {
                    video.pause();
                }
            });
        });
    </script>
</body>
